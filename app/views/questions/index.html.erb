<%= provide :page_title, "Questions" %>
<% currently_at "Questions" %>

<div class="content">
  <div class="flex justify-between items-center">
    <h1 class="text-3xl">Questions</h1>
    <%= link_to "New question", new_question_path, class: "btn-primary bg-gray-500" %>
  </div>

  <div  class="my-2">
    <%== pagy_nav @pagy %>
  </div>

  <% @questions.each do |question| %>
    <div class="card">
     <h2 class="font-bold text-3xl">
        <%= question.title %>
     </h2>

      <time datetime="<%= question.formatted_created_at %>">
       <p class="text-gray-500">
         <%= question.formatted_created_at %>
       </p>
      </time>

      <p><%= truncate strip_tags(question.body), length: 150, omission: '...(continued)'  %></p>

      <div class="flex gap-1">
        <%= link_to "Show", question_path(question), class: "btn-primary bg-blue-500" %>
        <%= link_to "Edit", edit_question_path(question), class: "btn-primary bg-gray-500" %>
        <%= link_to "Delete", question_path(question), data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, class: "btn-primary bg-red-500" %>
      </div>
    </div>
  <% end %>
</div>
